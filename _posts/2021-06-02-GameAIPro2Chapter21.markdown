---
layout:     post
title:      "Dynamic Obstacle Navigation in Fuse"
subtitle:   "GameAIPro2 Chapter21"
date:       2021-06-02  20:45:00
author:     "zhouhd"
header-img: "img/about-bg.jpg"
catalog: true
tags:
    - GameAI
    - GameAIPro
    - GameAIPro2
    - GameProgramming
---

看标题是说动态障碍的，实际上不是。主要说的是如何实现攀爬寻路系统，这是一个静态方案，不需要实时检测攀爬标记

## 自动生成攀爬图
- 为了便于运行时使用，要先对模型上可以攀爬的地方进行标记，例如垂直管道、水平架子和梯子
- 收集所有可攀爬元素，便于后续处理
- 处理显式相连的元素：对两个有重叠的元素，增加链接；对两个交叉的元素，除了增加链接，还要在交叉点增加一个节点
- 处理隐式相连的元素，跳跃、掉落范围内的都要增加链接。出于简化，可以只计算端点的范围，或者增加一些中间点
- 最后的计算结果，将每个可攀爬元素，转换成相连的几个节点，元素之间的链接也转换成节点相连。简单来说就是转化成了图的形式。每个节点记录了本身的属性、有哪些相邻节点以及相邻信息等等

## 应用攀爬图
- AI和玩家的动作完全一样，因此只需要根据攀爬图计算出移动指令来模拟玩家移动即可
- A*算法计算实际的攀爬路径，然后对路径进行曲线平滑处理，例如贝塞尔曲线，减少僵硬感
- 根据曲线方向来计算模拟移动指令
