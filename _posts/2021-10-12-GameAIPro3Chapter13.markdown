---
layout:     post
title:      "Choosing Effective Utility-Based Considerations"
subtitle:   "GameAIPro3 Chapter13"
date:       2021-10-12  18:13:00
author:     "zhouhd"
header-img: "img/about-bg.jpg"
catalog: true
tags:
    - GameAI
    - GameAIPro
    - GameAIPro3
    - GameProgramming
---

本篇来自激战2：荆棘之心，主要讲如何更好地给效用AI的每个行为评分，怎样选择有效的评分因子。

### 概述
- 每个AI角色会拥有多种可选行为，每种行为对应一个决策评分器(DSE)，决策时每个DSE会给出每种行为的评分，AI角色执行得分最高的行为
- 一个DSE由多种评分因子组成，最终得分是这些因子评分的乘积
- 每种因子接收一个或者多个参数，通过一定计算后给出0到1的初步评分，再通过映射函数对初步评分进行处理，得到最终0到1的因子评分
- 计算评分时，优先计算那些容易计算且可能为0的因子，一旦某个因子评分为0，直接忽略后续计算

### 例子
- 最常用的因子是距离，例如和特定目标的距离，或者更复杂的离某个区域的距离
- 为了避免一直选择某种行为，可以给它加上选择次数因子，当选择次数达到指定数值，会大大降低它的评分。冷却时间是常用的另一种可选方法
- 对于HP、MP这种属性，一般不会用数值，而是用它的百分比，除非因子知道具体数值，例如技能需要多少MP，会打敌人多少HP
- 方向类因子常用语选择目标，例如优先攻击面前的敌人，或者偷袭目标时先移动到目标背后
- 影响图可以用于多种因子，例如角色远离敌人攻击范围或者逃离包围
- 如果AI角色行为出现“震荡”，这个时候需要考虑因子选择是否有遗漏或者出错，还可以考虑调整映射函数，修改震荡区域的评分
