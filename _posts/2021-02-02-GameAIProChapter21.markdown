---
layout:     post
title:      "Techniques for Formation Movement Using Steering Circles"
subtitle:   "GameAIPro Chapter21"
date:       2021-02-02  16:44:00
author:     "zhouhd"
header-img: "img/about-bg.jpg"
catalog: true
tags:
    - GameAI
    - GameAIPro
    - GameProgramming
---

本文介绍了一种基于圆的编队移动的方法，包括两部分，如何生成路径和让编队移动。第一部分不局限于编队应用，而是通用的生成比较平滑的路径

## 生成路径
- 需要参数是起始位置、起始朝向、结束位置、结束朝向和编队半径
- 结果是两端圆弧和一段直线组成的路径
- 基本思想很简单，对于起始点，找到一个圆，半径是编队半径，起始位置在圆上，起始朝向与圆相切，满足这样条件的圆有两个。同样对结束点进行计算。最后结合两个点，找出合理的路径
- 可以先计算起始点到结束点的向量，一般来说，起始圆可以用圆心在位移向量正方向的，而结束圆可以用反方向的。如果距离很近不够两倍半径，可以用相反的选择，即起始用反方向，结束用正方向
- 有点像宇宙飞船从一个星球飞向另一个星球的最短路径的走法

## 编队移动
- 有两种方法，一种是让后面的单位走到前面单位的位置，也就是说先移动第一行，后续跟上；另一种是让单位保持和左边或者右边的对齐，先移动第一行，然后对每一行，计算第一列，然后其它列跟上
- 遇到障碍时，上述两种方法都会有各自的问题，需要另行解决
